<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="/fragments/head :: _head"></head>





<body>
    <!-- header -->
    <header class="px-4">
        <section class="contenedorheader">
            <a href="/">
                <h1>Egg Alquiler's</h1>
            </a>
            <nav class="nav-menu">
                <a href="/registrar">Registrarse</a>
                <a href="/login">Ingresar</a>
                <a href="#contact">Contacto</a>
            </nav>
        </section>
    </header>

    <div th:replace="fragments/error_exito :: _error_exito"></div>

    <main>
        <section th:replace="fragments/hero :: _hero"></section>





        <div class="container text-center mt-5 p-2 ">
            <div class="m-5 text-center">
                <h1 style="font-size: 3.2em"><strong>Propiedades Disponibles</strong></h1>
            </div>

            <div class="row m-4">

                <div class="col-sm-12 col-md-6 col-lg-6 col-xl-4 py-3" th:each="propiedad : ${propiedades}">

                    <div class="card d-flex carta" style="min-height:540px">


                        <div class="card-body justify-content-center">
                            <h2 class="card-title text-center" th:text="${propiedad.nombre}"></h2>
                            <h4 class="card-title text-center" th:text="${propiedad.direccion}"></h4>
                            <h4 class="card-title text-center" th:text="${propiedad.ciudad}"></h4>
                            <h4 class="card-title text-center" th:text="${propiedad.precio_base}"></h4>





                            <div id="carouselImagenes" class="carousel slide" data-ride="carousel">
                                <div class="carousel-inner">
                                    <div th:each="imagen, iterstat: ${propiedad.fotos}"
                                        th:class="${iterstat.first} ? 'carousel-item active':'carousel-item'">
                                        <img class="w-100" th:src=" @{/imagen/__${imagen.id}__}" alt="slide">
                                    </div>
                                </div>
                                <a class="carousel-control-prev" href="#carouselExampleControls" role="button"
                                    data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                </a>
                                <a class="carousel-control-next" href="#carouselExampleControls" role="button"
                                    data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                </a>
                            </div>











                            <a th:href="@{/admin/eliminarpropiedad/__${propiedad.id}__}"
                                sec:authorize="hasRole('ADMIN')">
                                Eliminar</a>
                        </div>


                        </a>




                    </div>
                </div>

            </div>
        </div>
    </main>

    <footer th:replace="fragments/footer :: _footer"></footer>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</body>

</html>